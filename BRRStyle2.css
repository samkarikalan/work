/* =============================================
CLUB SCHEDULER PRO — Dark Theme
BRRStyle2.css (Rounds / Court / Action)
============================================= */

/* ── Page 2 modes ── */
#page2 { transition: background-color 0.3s ease; background: var(–bg); }
#page2.random-mode      { background: var(–bg); }
#page2.idle-mode        { background: var(–bg); }
#page2.competitive-mode { background: #14100a; }
#page2.active-mode      { background: #0d1209; }

/* ── Title Card (Round header) ── */
.title-card {
display: flex; justify-content: center; align-items: center;
gap: 10px; width: 98%; margin: 6px auto 4px; text-align: center;
}
#roundTitle {
display: flex; width: fit-content; margin: 4px;
padding: 4px 16px; font-family: var(–font-display);
font-size: 1.4rem; font-weight: 700; height: 2.2rem;
border-radius: var(–r-sm); background: transparent;
justify-content: center; align-items: center;
color: var(–text);
}
.lock-icon {
width: 28px; height: 28px; border-radius: 50%;
cursor: pointer; transition: transform 0.2s, filter 0.2s; opacity: 0.7;
}
.lock-icon:hover { transform: scale(1.1); opacity: 1; }
body.locked .lock-icon   { filter: none; opacity: 1; }
body:not(.locked) .lock-icon { filter: grayscale(0.6); opacity: 0.55; }

/* ── Court Card ── */
.courtcard {
display: flex; flex-direction: column;
background: var(–surface); border: 1px solid var(–border2);
position: relative; width: 95%;
border-radius: var(–r-lg);
box-shadow: 0 4px 16px rgba(0,0,0,0.3);
margin: 10px auto; padding: 4px 6px 8px;
text-align: center; font-weight: bold;
transition: box-shadow 0.2s;
}
.courtcard:hover { box-shadow: 0 6px 24px rgba(0,0,0,0.4); }

.courtname {
text-align: center; margin: 6px;
font-size: 0.75rem; letter-spacing: 1px;
text-transform: uppercase; color: var(–muted);
font-weight: 700;
}

/* ── Teams ── */
.teams {
display: flex; background: none;
position: relative; width: 100%;
border-radius: var(–r-md); overflow: hidden;
padding: 4px; box-sizing: border-box;
text-align: center; font-weight: bold; gap: 4px;
}
.teams::before { display: none; } /* remove old divider */

.team[data-team-side=“L”] {
flex: 1; border-radius: var(–r-md); padding: 6px;
display: flex; flex-direction: column;
align-items: stretch; justify-content: center;
background: linear-gradient(135deg, rgba(108,99,255,0.12), rgba(108,99,255,0.04));
border: 1px solid rgba(108,99,255,0.2);
cursor: pointer; transition: all 0.2s;
}
.team[data-team-side=“R”] {
flex: 1; border-radius: var(–r-md); padding: 6px;
display: flex; flex-direction: column;
align-items: stretch; justify-content: center;
background: linear-gradient(135deg, rgba(255,101,132,0.12), rgba(255,101,132,0.04));
border: 1px solid rgba(255,101,132,0.2);
cursor: pointer; transition: all 0.2s;
}
.team[data-team-side=“L”]:hover { background: linear-gradient(135deg,rgba(108,99,255,0.2),rgba(108,99,255,0.08)); }
.team[data-team-side=“R”]:hover { background: linear-gradient(135deg,rgba(255,101,132,0.2),rgba(255,101,132,0.08)); }

.team button { background: none; color: var(–text); font-weight: 500; border: none; }

/* ── Player Buttons ── */
.Lplayer-btn, .Rplayer-btn {
border: none; border-radius: var(–r-sm);
font-size: var(–player-font-size);
padding: 5px 8px; margin: 3px auto;
color: var(–text); cursor: grab;
display: flex; justify-content: center; align-items: center;
text-align: center; width: 100%; box-sizing: border-box;
white-space: normal; overflow-wrap: break-word; word-break: break-word;
font-weight: 500; gap: 4px;
touch-action: manipulation; transition: transform 0.15s;
}
.Lplayer-btn { background: rgba(108,99,255,0.15); border: 1px solid rgba(108,99,255,0.2); }
.Rplayer-btn { background: rgba(255,101,132,0.15); border: 1px solid rgba(255,101,132,0.2); }
.Lplayer-btn:hover { background: rgba(108,99,255,0.25); transform: scale(1.02); }
.Rplayer-btn:hover { background: rgba(255,101,132,0.25); transform: scale(1.02); }

/* Gender overrides */
.Lplayer-btn.male, .Rplayer-btn.male { background: rgba(96,165,250,0.12); border-color: rgba(96,165,250,0.2); }
.Lplayer-btn.female, .Rplayer-btn.female { background: rgba(255,101,132,0.12); border-color: rgba(255,101,132,0.2); }

.Lplayer-btn.selected, .Rplayer-btn.selected, .rest-btn.selected {
outline: 2px solid var(–amber);
background: rgba(245,158,11,0.2) !important;
color: var(–amber);
box-shadow: 0 0 10px rgba(245,158,11,0.4);
transform: scale(1.02);
animation: borderPulse 2s ease-in-out infinite;
}
@keyframes borderPulse {
0%,100% { box-shadow: 0 0 6px rgba(245,158,11,0.4); }
50%      { box-shadow: 0 0 14px rgba(245,158,11,0.7); }
}

/* ── Rest Box ── */
.rest-box {
display: none; flex-wrap: wrap; justify-content: flex-start;
align-items: flex-start; gap: 4px;
padding: 6px; margin: 4px; color: var(–text);
box-sizing: border-box; border-radius: var(–r-sm);
min-height: 2rem; border: none !important; outline: none !important; background: transparent;
}
.rest-box:not(:empty) {
display: flex;
background: rgba(255,255,255,0.03) !important;
border: 1px solid var(–border) !important;
}

.rest-btn {
border: 1px solid var(–border2); border-radius: var(–r-xl);
font-size: var(–player-font-size); padding: 4px 10px; margin: 2px;
color: var(–text-dim); text-align: center;
transition: transform 0.2s, background 0.2s; cursor: grab;
background: var(–surface3); display: inline-flex; align-items: center; gap: 6px;
}
.rest-btn:hover { transform: scale(1.05); background: var(–surface2); color: var(–text); }

/* ── Match Card ── */
.match-card {
background: var(–surface2); border-radius: var(–r-md);
padding: 4px; margin: 3px auto;
box-shadow: 0 2px 8px rgba(0,0,0,0.2);
position: relative; transition: transform 0.2s, box-shadow 0.2s;
}
.match-card:hover { transform: translateY(-2px); box-shadow: 0 6px 16px rgba(0,0,0,0.3); }

/* ── Swap / Win ── */
.swap-icon {
position: absolute; top: -1px; right: -1px; z-index: 10;
background: var(–surface3); color: var(–text-dim);
border-radius: 50%; padding: 4px; font-size: 0.85rem;
box-shadow: 0 2px 8px rgba(0,0,0,0.4); cursor: pointer;
transition: all 0.2s; border: 1px solid var(–border2);
}
.swap-icon:hover { transform: scale(1.15); background: var(–amber); color: #000; }

.win-cup {
position: absolute; left: 90%; transform: translateX(-50%);
width: 28px; height: 28px; padding: 2px; border-radius: 50%;
background: none; cursor: pointer; z-index: 15;
opacity: 0.9; filter: grayscale(30%);
transition: opacity 0.2s, filter 0.2s, transform 0.2s;
}
.win-cup.blinking { animation: winCupBlink 2s infinite; }
.win-cup.active   { animation: none; opacity: 1; filter: none; transform: translateX(-50%) scale(1.3); }
@keyframes winCupBlink {
0%   { opacity: 0.3; transform: translateX(-50%) scale(0.5); }
50%  { opacity: 1;   transform: translateX(-50%) scale(1.1); }
100% { opacity: 0.3; transform: translateX(-50%) scale(0.5); }
}

.selected-team { outline: 2px solid var(–accent); box-shadow: 0 0 12px var(–accent-glow); }
.team.swapping { background: rgba(245,158,11,0.15) !important; transform: scale(1.04); }

/* ── Repeated warnings ── */
.repeated-pair { outline: 1px solid rgba(239,68,68,0.4); background: rgba(239,68,68,0.06) !important; }
.repeated-game { outline: 2px solid rgba(239,68,68,0.5); background: rgba(239,68,68,0.08) !important; }

/* ── Played Round ── */
.played-round .match-card, .played-round .rest-btn,
.played-round .Lplayer-btn, .played-round .Rplayer-btn,
.played-round .teams, .played-round .team {
filter: grayscale(30%) opacity(0.7); border: 1px solid var(–border);
}

/* ── Row Field (courts / minRounds row) ── */
.row-field {
display: grid; grid-template-columns: 1fr auto;
align-items: center; gap: 12px;
padding: 8px 10px; border-radius: var(–r-xl);
border: 1px solid var(–border); margin: 4px 4px;
background: var(–surface); transition: 0.25s ease;
}

/* ── Court Card (stepper) ── */
.court-card {
display: flex; align-items: center; justify-content: center;
gap: 8px; padding: 4px 8px;
background: var(–surface2); border: 1px solid var(–border2);
border-radius: var(–r-xl); font-family: var(–font-body);
}
.row-label { font-size: 1rem; padding: 4px; color: var(–text-dim); font-weight: 600; }

#num-courts { font-size: 1.2rem; font-weight: 700; color: var(–text); min-width: 1.5rem; text-align: center; }
#minRoundsDisplay { font-size: 1.2rem; font-weight: 700; color: var(–text); min-width: 1.5rem; text-align: center; }

.circle-btn {
width: 28px; height: 28px; border-radius: 50%;
border: 1px solid rgba(108,99,255,0.4);
background: rgba(108,99,255,0.12); color: var(–accent);
font-size: 1rem; font-weight: 700; cursor: pointer;
display: flex; align-items: center; justify-content: center;
transition: all 0.15s;
}
.circle-btn:hover { background: rgba(108,99,255,0.25); transform: scale(1.1); }

/* ── Mode Card (trophy toggle) ── */
.mode-card {
display: flex; align-items: center; gap: 10px;
padding: 6px 12px; border-radius: var(–r-xl);
background: var(–surface2); border: 1px solid var(–border2);
font-size: 1.3rem; font-weight: bold;
}
.switch { position: relative; display: inline-block; width: 44px; height: 24px; }
.switch input { opacity: 0; width: 0; height: 0; }
.slider {
position: absolute; cursor: pointer; inset: 0;
background: var(–surface3); border: 1px solid var(–border2);
transition: 0.3s; border-radius: 24px;
}
.slider:before {
content: “”; position: absolute;
height: 16px; width: 16px; left: 3px; bottom: 3px;
background: var(–text-dim); transition: 0.3s; border-radius: 50%;
}
input:checked + .slider { background: var(–green); border-color: var(–green); box-shadow: 0 0 10px rgba(45,206,137,0.4); }
input:checked + .slider:before { transform: translateX(20px); background: #fff; }

/* ── Min rounds hint ── */
.min-rounds-hint { font-size: 0.75rem; color: var(–muted); align-self: center; padding-right: 8px; text-align: right; flex: 1; }
.competitive-settings { overflow: hidden; max-height: 0; opacity: 0; transition: max-height 0.3s ease, opacity 0.3s ease; pointer-events: none; }
.competitive-settings.visible { max-height: 80px; opacity: 1; pointer-events: auto; }

/* ── Action Card (Play button bar) ── */
.action-card {
display: flex; width: 98%; margin: 6px auto;
border-radius: var(–r-lg); overflow: hidden;
box-shadow: 0 6px 20px rgba(0,0,0,0.3);
}
.action {
padding: 12px 0; border: none;
font-size: 1.05rem; font-weight: 700; color: #fff;
cursor: pointer; transition: transform 0.1s, opacity 0.15s;
}
.action:active { transform: scale(0.97); opacity: 0.9; }
.action.mid  { flex: 0.5; font-size: 1.5rem; background: var(–surface3); }
.action.right.primary { flex: 2; background: linear-gradient(135deg, var(–accent) 0%, #9b60ff 100%); box-shadow: inset 0 1px 0 rgba(255,255,255,0.1); }
.action.right.primary:hover { filter: brightness(1.1); }
.action.right.primary.end { background: linear-gradient(135deg, var(–red), #b91c1c); }

/* ── Gender icon ── */
.gender-icon { width: 24px; height: 24px; border-radius: 50%; object-fit: cover; }
.gender-btn { width: 28px; height: 28px; border-radius: 50%; display: inline-flex; align-items: center; justify-content: center; font-size: 16px; pointer-events: none; flex-shrink: 0; }
.gender-btn.male   { background: rgba(96,165,250,0.2); color: #60a5fa; }
.gender-btn.female { background: rgba(255,101,132,0.2); color: var(–accent2); }

/* Player name in button */
.player-name { flex: 1; min-width: 0; white-space: normal; overflow-wrap: break-word; word-break: break-word; line-height: 1.2; font-weight: 400; color: var(–text); }

/* ── Lock ── */
body.locked .swap-icon { display: none; }
body.locked .Lplayer-btn, body.locked .Rplayer-btn, body.locked .rest-btn, body.locked .swap-icon { pointer-events: none; }

/* ── VS divider ── */
.vs { display: inline-block; width: 1rem; color: var(–muted); font-weight: 700; }

/* ── Confirm overlay (also here for isolation) ── */
.confirm-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.65); display: flex; align-items: center; justify-content: center; z-index: 999; }
.confirm-overlay.hidden { display: none; }
.confirm-box { background: var(–surface); border: 1px solid var(–border2); padding: 20px; border-radius: var(–r-lg); width: 90%; max-width: 320px; text-align: center; box-shadow: var(–shadow); }
.confirm-title { font-size: 1rem; margin-bottom: 16px; color: var(–text); font-weight: 600; }
.confirm-actions { display: flex; gap: 10px; justify-content: center; }

/* body disabled blinking */
body.disabled { pointer-events: none; opacity: 0.9; animation: blinkBorder 1s infinite; border: 3px solid var(–amber); box-sizing: border-box; }
@keyframes blinkBorder { 0%,100% { border-color: var(–amber); } 50% { border-color: transparent; } }
#nextBtn { pointer-events: auto; opacity: 1; }

/* primary / end overrides */
.primary   { background: var(–green); color: white; }
.primary.end { background: var(–red); }
